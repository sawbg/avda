\hypertarget{main_8cpp_source}{\section{main.\+cpp}
\label{main_8cpp_source}\index{src/main.\+cpp@{src/main.\+cpp}}
}

\begin{DoxyCode}
00001 
00007 \textcolor{preprocessor}{#include <array>}
00008 \textcolor{preprocessor}{#include <cstdlib>}
00009 \textcolor{preprocessor}{#include <iostream>}
00010 \textcolor{preprocessor}{#include <map>}
00011 \textcolor{preprocessor}{#include <pthread.h>}
00012 \textcolor{preprocessor}{#include <string>}
00013 \textcolor{preprocessor}{#include <unistd.h>}
00014 
00015 \textcolor{preprocessor}{#include "\hyperlink{definitions_8hpp}{definitions.hpp}"}
00016 \textcolor{preprocessor}{#include "\hyperlink{fileio_8hpp}{fileio.hpp}"}
00017 \textcolor{preprocessor}{#include "\hyperlink{process_8hpp}{process.hpp}"}
00018 
00019 \textcolor{keyword}{using namespace }\hyperlink{namespacestd}{std};
00020 \textcolor{keyword}{using namespace }\hyperlink{namespacevaso}{vaso};
00021 
\hypertarget{main_8cpp_source_l00026}{}\hyperlink{main_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}{00026} \textcolor{keywordtype}{int} \hyperlink{main_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}{main}(\textcolor{keywordtype}{int} argc, \textcolor{keywordtype}{char}** argv) \{
00027     \textcolor{comment}{// generate name for patient's file}
00028     \textcolor{keywordtype}{string} filename = \textcolor{stringliteral}{""};\textcolor{comment}{//PatientName();}
00029 
00030     \textcolor{comment}{// TODO: Load all of patient's parameters}
00031 
00032     \textcolor{comment}{// Record doppler audio}
00033     \hyperlink{definitions_8hpp_aacdc525d6f7bddb3ae95d5c311bd06a1}{float32} buffer[\hyperlink{definitions_8hpp_aa44e6143be9e89f19be973956c22e134}{REC\_COUNT}][\hyperlink{definitions_8hpp_a1682c770d91c5d167b621a782be940d4}{SAMPLE\_COUNT}];
00034     
00035     \textcolor{keywordflow}{for}(\hyperlink{definitions_8hpp_adde6aaee8457bee49c2a92621fe22b79}{uint8} i = 0; i < \hyperlink{definitions_8hpp_aa44e6143be9e89f19be973956c22e134}{REC\_COUNT}; i++) \{
00036         \textcolor{comment}{// TODO: Prompt user to press ENTER to start recording}
00037 
00038         \textcolor{keywordtype}{int} retSeek = 0;\textcolor{comment}{//fseek(STDIN\_FILENO, 0, SEEK\_END);}
00039         \textcolor{keywordtype}{int} retRead = read(STDIN\_FILENO, &buffer[i], \hyperlink{definitions_8hpp_a1682c770d91c5d167b621a782be940d4}{SAMPLE\_COUNT});
00040 
00041         \textcolor{keywordflow}{if}(retSeek != 0 || retRead < \hyperlink{definitions_8hpp_a1682c770d91c5d167b621a782be940d4}{SAMPLE\_COUNT}) \{
00042             cerr << \textcolor{stringliteral}{"An error occurred reading the doppler audio! "}
00043                 \textcolor{stringliteral}{"The program will now exit."} << endl;
00044             \textcolor{keywordflow}{return} \hyperlink{definitions_8hpp_a8fe83ac76edc595f6b98cd4a4127aed5}{ERROR};
00045         \}
00046 
00047         \textcolor{comment}{// TODO: Print message about recording stopped}
00048     \}
00049 
00050     map<Side, DataParams> results = \hyperlink{namespacevaso_a852067e19b0bcfebb4fa6674c7c8d67f}{Process}(buffer);
00051 
00052     \textcolor{comment}{// TODO: Print results & probable diagnosis}
00053 
00054     \textcolor{comment}{// TODO: Write all results to file}
00055 \}
\end{DoxyCode}
